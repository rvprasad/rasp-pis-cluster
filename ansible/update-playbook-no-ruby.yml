- hosts: all_raspi
  remote_user: life
  tasks:
  - name: ifup
    become: yes
    become_method: sudo
    shell: ip link set wlan0 up && sleep 10
  - name: apt update
    become: yes
    become_method: sudo
    apt: 
      update_cache: yes 
      state: latest
      autoremove: yes
  - name: pip
    command: pip3 install -U django flask
  - name: sdk self selfupdate
    shell: . ~/.sdkman/bin/sdkman-init.sh && sdk selfupdate
  - name: sdk uninstall 
    shell: . ~/.sdkman/bin/sdkman-init.sh && sdk uninstall {{ item }}
    with_list:
      - groovy 2.5.3
      - kotlin 1.2.71
      - kscript 2.5.0
      - micronaut 1.0.0
      - vertx 3.5.4
  - name: sdk install 
    shell: . ~/.sdkman/bin/sdkman-init.sh && sdk install {{ item }}
    with_list:
      - groovy
      - kotlin
      - kscript
      - micronaut
      - scala
      - vertx
  - name: sdk flush 
    shell: . ~/.sdkman/bin/sdkman-init.sh && sdk flush {{ item }}
    with_list:
      - archives
      - temp
  - name: ifdown
    become: yes
    become_method: sudo
    shell: ip link set wlan0 down && sleep 10
